{% if site.footer_scripts %}
  {% for script in site.footer_scripts %}
    <script src="{{ script | relative_url }}"></script>
  {% endfor %}
{% else %}
  <script src="{{ '/assets/js/main.min.js' | relative_url }}"></script>
{% endif %}

{% if site.search == true or page.layout == "search" %}
  {%- assign search_provider = site.search_provider | default: "lunr" -%}
  {%- case search_provider -%}
    {%- when "lunr" -%}
      {% include_cached search/lunr-search-scripts.html %}
    {%- when "google" -%}
      {% include_cached search/google-search-scripts.html %}
    {%- when "algolia" -%}
      {% include_cached search/algolia-search-scripts.html %}
  {%- endcase -%}
{% endif %}

{% include analytics.html %}
{% include /comments-providers/scripts.html %}

{% if site.after_footer_scripts %}
  {% for script in site.after_footer_scripts %}
    <script src="{{ script | relative_url }}"></script>
  {% endfor %}
{% endif %}

<!-- é›ªèŠ±æ•ˆæœ -->
<div id="midground" class="wall"></div>
<div id="foreground" class="wall"></div>
<div id="top" class="wall"></div>

<!-- åŠ è½½åŠ¨ç”» start -->
<div id="loading-box">
  <div class="loading-left-bg"></div>
  <div class="loading-right-bg"></div>
  <div class="spinner-box">
    <div class="loader">
      <div class="inner one"></div>
      <div class="inner two"></div>
      <div class="inner three"></div>
    </div>
    <div class="loading-word">
      <p class="loading-title" id="loading-title">æˆ‘çš„åšå®¢</p>
      <span id="loading-text">Loading...</span>
    </div>
  </div>
</div>
<!-- åŠ è½½åŠ¨ç”» end -->

<!-- Live2D å°†ç”±JavaScriptè‡ªåŠ¨åˆ›å»º -->

<!-- ç½‘æ˜“äº‘éŸ³ä¹æ’­æ”¾å™¨å·²ç§»è‡³ _includes/after-content.html ä¸­ï¼Œè¿™é‡Œä¸å†éœ€è¦ -->

<!-- Live2D å·²ç§»è‡³ _includes/after-content.html ä¸­ï¼Œè¿™é‡Œä¸å†éœ€è¦ -->

<!-- æµ‹è¯•ç”¨çš„#listå…ƒç´ å·²ç§»é™¤ -->

<!-- åœ°å€æ å›¾æ ‡åŠŸèƒ½ -->
<div class="favicon-changer" id="faviconChanger">
    åœ°å€æ å›¾æ ‡å·²æ›´æ”¹ä¸º touxiang.jpg
</div>

<!-- åŠ è½½åŠ¨ç”»è„šæœ¬ -->
<script>
window.addEventListener(
  'load',
  function () {
    //è½½å…¥åŠ¨ç”»
    $('#loading-box').attr('class', 'loaded')
    $('#bg').css(
      'cssText',
      'transform: scale(1);filter: blur(0px);transition: ease 1.5s;'
    )
    $('.cover').css('cssText', 'opacity: 1;transition: ease 1.5s;')
    $('#section').css(
      'cssText',
      'transform: scale(1) !important;opacity: 1 !important;filter: blur(0px) !important'
    )
  },
  false
)
</script>

<!-- é›ªèŠ±æ•ˆæœè„šæœ¬ -->
<script type="text/javascript">
window.onload = function () {
    var minSize = 10; //æœ€å°å­—ä½“
    var maxSize = 40;//æœ€å¤§å­—ä½“
    var newOne = 500; //ç”Ÿæˆé›ªèŠ±é—´éš”
    var flakColor = "#f5f5f5fa"; //é›ªèŠ±é¢œè‰²
    var flak = $("<div></div>").css({position:"absolute","top":"0px"}).html("âœ½");//å®šä¹‰ä¸€ä¸ªé›ªèŠ±
    var dhight = $(window).height(); //å®šä¹‰è§†å›¾é«˜åº¦
    var dw =$(window).width()-80; //å®šä¹‰è§†å›¾å®½åº¦
    setInterval(function(){
    var sizeflak = minSize+Math.random()*maxSize; //äº§ç”Ÿå¤§å°ä¸ç­‰çš„é›ªèŠ±
    var startLeft = Math.random()*dw; //é›ªèŠ±ç”Ÿæˆæ˜¯éšæœºçš„leftå€¼
    var startOpacity = 0.7+Math.random()*0.3; //éšæœºé€æ˜åº¦
    var endTop= dhight-100; //é›ªèŠ±åœæ­¢topçš„ä½ç½®
    var endLeft= Math.random()*dw; //é›ªèŠ±åœæ­¢çš„leftä½ç½®
    var durationfull = 5000+Math.random()*3000; //é›ªèŠ±é£˜è½é€Ÿåº¦ä¸åŒ
    flak.clone().appendTo($("body")).css({
    "left":startLeft ,
    "opacity":startOpacity,
    "font-size":sizeflak,
    "color":flakColor
    }).animate({
    "top":endTop,
    "left":endLeft,
    "apacity":0.1
    },durationfull,function(){
    $(this).remove()
    });
    },newOne);
}
</script>

<!-- ç½‘æ˜“äº‘éŸ³ä¹æ’­æ”¾å™¨å·²åœ¨ä¸Šæ–¹æ·»åŠ ï¼Œè¿™é‡Œç§»é™¤æ—§çš„éŸ³ä¹æ’­æ”¾å™¨ä»£ç  -->

<!-- ç¤¾äº¤åª’ä½“é“¾æ¥è„šæœ¬ -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // ç­‰å¾…ä¾§è¾¹æ åŠ è½½å®Œæˆ
    setTimeout(function() {
        // åˆ›å»ºç¤¾äº¤åª’ä½“é“¾æ¥å…ƒç´ 
        const socialLinks = document.createElement('div');
        socialLinks.className = 'social-links';
        socialLinks.innerHTML = `
            <a href="https://gitee.com/explore" class="social-link" target="_blank">
                <i class="fab fa-git-alt"></i>
                <span>Gitee</span>
            </a>
            <a href="https://github.com/zzz-sudo/" class="social-link" target="_blank">
                <i class="fab fa-github"></i>
                <span>GitHub</span>
            </a>
            <a href="https://wpa.qq.com/msgrd?v=3&uin=2364200290&site=qq&menu=yes" class="social-link" target="_blank">
                <i class="fab fa-qq"></i>
                <span>QQ</span>
            </a>
            <a href="https://t.me/xxx" class="social-link" target="_blank">
                <i class="fab fa-telegram"></i>
                <span>Telegram</span>
            </a>
            <a href="https://mp.weixin.qq.com/s/voNUF5iV1tghQvlRCEkpzg" class="social-link" target="_blank">
                <i class="fab fa-weixin"></i>
                <span>å¾®ä¿¡å…¬ä¼—å·</span>
            </a>
            <a href="https://www.bilibili.com/video/BV1dD4y1M748/?spm_id_from=333.1387.homepage.video_card.click" class="social-link" target="_blank">
                <i class="fab fa-bilibili"></i>
                <span>Bilibili</span>
            </a>
        `;
        
        // å°†ç¤¾äº¤åª’ä½“é“¾æ¥æ’å…¥åˆ°å·¦ä¾§è¾¹æ 
        const sidebar = document.querySelector('.author__content');
        if (sidebar) {
            sidebar.appendChild(socialLinks);
            console.log('ç¤¾äº¤åª’ä½“é“¾æ¥å·²æ·»åŠ åˆ°ä¾§è¾¹æ ');
        } else {
            console.log('æœªæ‰¾åˆ°ä¾§è¾¹æ ï¼Œç¤¾äº¤åª’ä½“é“¾æ¥æ·»åŠ å¤±è´¥');
        }
    }, 1000); // ç­‰å¾…1ç§’åæ‰§è¡Œ
});
</script>

<!-- æ—¥å†åŠŸèƒ½è„šæœ¬ -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    console.log('ğŸ”„ å¼€å§‹åˆå§‹åŒ–æ—¥å†åŠŸèƒ½...');
    
    // åˆ›å»ºæ—¥å†å…ƒç´ 
    const calendarContainer = document.createElement('div');
    calendarContainer.className = 'calendar-container';
    calendarContainer.innerHTML = `
        <div class="calendar-header">
            <div class="calendar-title" id="calendarTitle">2025å¹´1æœˆ</div>
            <div class="calendar-nav">
                <button onclick="previousMonth()">&lt;</button>
                <button onclick="nextMonth()">&gt;</button>
            </div>
        </div>
        <div class="calendar-grid" id="calendarGrid">
            <!-- æ—¥å†å†…å®¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
        </div>
    `;
    
    // ä½¿ç”¨æ›´å¯é çš„ä¾§è¾¹æ æ£€æµ‹æ–¹æ³•
    function findSidebar() {
        // å°è¯•å¤šç§é€‰æ‹©å™¨
        const selectors = [
            '.author__content',
            '.sidebar',
            '.page__sidebar',
            '[class*="sidebar"]',
            '[class*="author"]'
        ];
        
        for (const selector of selectors) {
            const element = document.querySelector(selector);
            if (element) {
                console.log(`âœ… æ‰¾åˆ°ä¾§è¾¹æ : ${selector}`);
                return element;
            }
        }
        
        // å¦‚æœéƒ½æ‰¾ä¸åˆ°ï¼Œå°è¯•æŸ¥æ‰¾åŒ…å«ä½œè€…ä¿¡æ¯çš„å…ƒç´ 
        const authorElements = document.querySelectorAll('[class*="author"], [class*="profile"], [class*="bio"]');
        if (authorElements.length > 0) {
            console.log('âœ… æ‰¾åˆ°ä½œè€…ç›¸å…³å…ƒç´ ï¼Œä½¿ç”¨ç¬¬ä¸€ä¸ª');
            return authorElements[0];
        }
        
        console.warn('âš ï¸ æ‰¾ä¸åˆ°åˆé€‚çš„ä¾§è¾¹æ ï¼Œå°è¯•æ·»åŠ åˆ°bodyæœ«å°¾');
        return document.body;
    }
    
    // ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½åæ·»åŠ æ—¥å†
    function addCalendar() {
        const sidebar = findSidebar();
        if (sidebar) {
            sidebar.appendChild(calendarContainer);
            console.log('âœ… æ—¥å†å·²æ·»åŠ åˆ°ä¾§è¾¹æ ');
            
            // ç«‹å³åˆå§‹åŒ–æ—¥å†
            setTimeout(() => {
                renderCalendar();
            }, 100);
        } else {
            console.error('âŒ æ— æ³•æ‰¾åˆ°ä¾§è¾¹æ ï¼Œæ—¥å†æ·»åŠ å¤±è´¥');
        }
    }
    
    // å»¶è¿Ÿæ·»åŠ æ—¥å†ï¼Œç¡®ä¿é¡µé¢ç»“æ„å®Œå…¨åŠ è½½
    setTimeout(addCalendar, 1500);
    
    let currentDate = new Date();
    let currentMonth = currentDate.getMonth();
    let currentYear = currentDate.getFullYear();
    
    function renderCalendar() {
        console.log('ğŸ”„ å¼€å§‹æ¸²æŸ“æ—¥å†...');
        
        const calendarGrid = document.getElementById('calendarGrid');
        const calendarTitle = document.getElementById('calendarTitle');
        
        // æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
        if (!calendarGrid || !calendarTitle) {
            console.warn('âš ï¸ æ‰¾ä¸åˆ°æ—¥å†å…ƒç´ ï¼Œè·³è¿‡æ—¥å†æ¸²æŸ“');
            return;
        }
        
        console.log('âœ… æ—¥å†å…ƒç´ æ£€æŸ¥é€šè¿‡ï¼Œå¼€å§‹æ¸²æŸ“...');
        
        // æ¸…ç©ºæ—¥å†
        calendarGrid.innerHTML = '';
        
        // è®¾ç½®æ ‡é¢˜
        const monthNames = ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ', '7æœˆ', '8æœˆ', '9æœˆ', '10æœˆ', '11æœˆ', '12æœˆ'];
        calendarTitle.textContent = `${currentYear}å¹´${monthNames[currentMonth]}`;
        
        // æ·»åŠ æ˜ŸæœŸæ ‡é¢˜
        const weekdays = ['æ—¥', 'ä¸€', 'äºŒ', 'ä¸‰', 'å››', 'äº”', 'å…­'];
        weekdays.forEach(day => {
            const dayElement = document.createElement('div');
            dayElement.className = 'calendar-weekday';
            dayElement.textContent = day;
            calendarGrid.appendChild(dayElement);
        });
        
        // è·å–å½“æœˆç¬¬ä¸€å¤©å’Œæœ€åä¸€å¤©
        const firstDay = new Date(currentYear, currentMonth, 1);
        const lastDay = new Date(currentYear, currentMonth + 1, 0);
        const firstDayOfWeek = firstDay.getDay();
        const lastDate = lastDay.getDate();
        
        // æ·»åŠ ä¸Šä¸ªæœˆçš„æ—¥æœŸ
        const prevMonth = new Date(currentYear, currentMonth, 0);
        const prevMonthLastDate = prevMonth.getDate();
        for (let i = firstDayOfWeek - 1; i >= 0; i--) {
            const dayElement = document.createElement('div');
            dayElement.className = 'calendar-day other-month';
            dayElement.textContent = prevMonthLastDate - i;
            calendarGrid.appendChild(dayElement);
        }
        
        // æ·»åŠ å½“æœˆçš„æ—¥æœŸ
        for (let day = 1; day <= lastDate; day++) {
            const dayElement = document.createElement('div');
            dayElement.className = 'calendar-day';
            dayElement.textContent = day;
            
            // æ ‡è®°ä»Šå¤©
            if (day === currentDate.getDate() && currentMonth === currentDate.getMonth() && currentYear === currentDate.getFullYear()) {
                dayElement.classList.add('today');
            }
            
            calendarGrid.appendChild(dayElement);
        }
        
        // æ·»åŠ ä¸‹ä¸ªæœˆçš„æ—¥æœŸ
        const remainingDays = 42 - (firstDayOfWeek + lastDate);
        for (let day = 1; day <= remainingDays; day++) {
            const dayElement = document.createElement('div');
            dayElement.className = 'calendar-day other-month';
            dayElement.textContent = day;
            calendarGrid.appendChild(dayElement);
        }
        
        console.log('âœ… æ—¥å†æ¸²æŸ“å®Œæˆ');
    }
    
    // ä¸Šä¸ªæœˆ
    window.previousMonth = function() {
        currentMonth--;
        if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
        }
        renderCalendar();
    };
    
    // ä¸‹ä¸ªæœˆ
    window.nextMonth = function() {
        currentMonth++;
        if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
        }
        renderCalendar();
    };
    
    console.log('âœ… æ—¥å†åŠŸèƒ½è„šæœ¬åŠ è½½å®Œæˆ');
});
</script>

<!-- åœ°å€æ å›¾æ ‡æ›´æ¢åŠŸèƒ½ -->
<script>
document.addEventListener('DOMContentLoaded', function() {
    // è®¾ç½®é»˜è®¤å›¾æ ‡
    const defaultFavicon = document.querySelector('link[rel="icon"]') || document.querySelector('link[rel="shortcut icon"]');
    
    // åˆ›å»ºæ–°çš„å›¾æ ‡é“¾æ¥
    const newFavicon = document.createElement('link');
    newFavicon.rel = 'icon';
    newFavicon.type = 'image/jpeg';
    newFavicon.href = '/touxiang.jpg';
    
    // æ›¿æ¢é»˜è®¤å›¾æ ‡
    if (defaultFavicon) {
        defaultFavicon.remove();
    }
    document.head.appendChild(newFavicon);
    
    // æ˜¾ç¤ºæç¤ºä¿¡æ¯
    const faviconChanger = document.getElementById('faviconChanger');
    if (faviconChanger) {
        faviconChanger.classList.add('show');
        setTimeout(() => {
            faviconChanger.classList.remove('show');
        }, 3000);
    }
    
    console.log('åœ°å€æ å›¾æ ‡å·²æ›´æ”¹ä¸º touxiang.jpg');
});
</script>

<!-- ç½‘ç«™åŠ¨æ€èƒŒæ™¯çº¿æ¡è·Ÿéšé¼ æ ‡ç§»åŠ¨ -->
<script>
!function(){
function n(n,e,t){
return n.getAttribute(e)||t
}
 
function e(n){
return document.getElementsByTagName(n)
}
 
function t(){
var t=e("script"),o=t.length,i=t[o-1];
 
return{
l:o,z:n(i,"zIndex",-1),o:n(i,"opacity",3),c:n(i,"color","255,0,0"),n:n(i,"count",160)
}
}
 
function o(){
a=m.width=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,
c=m.height=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight
}
 
function i(){
r.clearRect(0,0,a,c);
var n,e,t,o,m,l;
 
s.forEach(function(i,x){
for(i.x+=i.xa,i.y+=i.ya,i.xa*=i.x>a||i.x<0?-1:1,i.ya*=i.y>c||i.y<0?-1:1,r.fillRect(i.x-.5,i.y-.5,1,1),e=x+1;e<u.length;e++)n=u[e],
null!==n.x&&null!==n.y&&(o=i.x-n.x,m=i.y-n.y,
l=o*o+m*m,l<n.max&&(n===y&&l>=n.max/2&&(i.x-=.03*o,i.y-=.03*m),
t=(n.max-l)/n.max,r.beginPath(),r.lineWidth=t/2,r.strokeStyle="rgba("+d.c+","+(t+.2)+")",r.moveTo(i.x,i.y),r.lineTo(n.x,n.y),r.stroke()))
}),
x(i)
}
var a,c,u,m=document.createElement("canvas"),
d=t(),l="c_n"+d.l,r=m.getContext("2d"),
x=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||
 
function(n){
window.setTimeout(n,1e3/45)
},
 
w=Math.random,y={x:null,y:null,max:2e4};m.id=l,m.style.cssText="position:fixed;top:0;left:0;z-index:"+d.z+";opacity:"+d.o,e("body")[0].appendChild(m),o(),window.onresize=o,
window.onmousemove=function(n){
n=n||window.event,y.x=n.clientX,y.y=n.clientY
},
 
window.onmouseout=function(){
y.x=null,y.y=null
};for(var s=[],f=0;d.n>f;f++){
var h=w()*a,g=w()*c,v=2*w()-1,p=2*w()-1;s.push({x:h,y:g,xa:v,ya:p,max:6e3})
}
u=s.concat([y]),
setTimeout(function(){i()},100)
}();
</script>
